{"remainingRequest":"C:\\Users\\rgdzg\\Desktop\\E-CTF\\E-CTF-VUE\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\rgdzg\\Desktop\\E-CTF\\E-CTF-VUE\\src\\views\\re-lo\\components\\FormCom.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\rgdzg\\Desktop\\E-CTF\\E-CTF-VUE\\src\\views\\re-lo\\components\\FormCom.vue","mtime":1580121229091},{"path":"C:\\Users\\rgdzg\\Desktop\\E-CTF\\E-CTF-VUE\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\rgdzg\\Desktop\\E-CTF\\E-CTF-VUE\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\rgdzg\\Desktop\\E-CTF\\E-CTF-VUE\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\rgdzg\\Desktop\\E-CTF\\E-CTF-VUE\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CglMb2dpbiwKCVJlZ2lzdGVyLAoJR2V0VXNlckluZm8KfSBmcm9tICdAL2FwaS9hcGkuanMnCmV4cG9ydCBkZWZhdWx0IHsKCXByb3BzOiBbJ3R5cGUnXSwKCW5hbWU6ICJGb3JtQ29tIiwKCWRhdGE6IGZ1bmN0aW9uKCkgewoJCXJldHVybiB7CgkJCXVybDogImh0dHBzOi8vZnVzczEwLmVsZW1lY2RuLmNvbS9lLzVkLzRhNzMxYTkwNTk0YTRhZjU0NGMwYzI1OTQxMTcxanBlZy5qcGVnIiwKCQkJbmFtZTogJycsCgkJCWVtYWlsOiAnJywKCQkJcGFzczE6ICcnLAoJCQlwYXNzMjogJycsCgkJCWNvZGU6ICcnCgkJfQoJfSwKCWNvbXB1dGVkOiB7CgoJfSwKCW1ldGhvZHM6IHsKCQlMb2dpbjogYXN5bmMgZnVuY3Rpb24oKXsKCQkJbGV0IHJzcCA9IGF3YWl0IExvZ2luKHRoaXMsIHsKCQkJCSdlbWFpbCc6IHRoaXMuZW1haWwsCgkJCQkncGFzcyc6IHRoaXMucGFzczEKCQkJfSkKCQkJaWYocnNwLmRhdGEudG9rZW4pewoJCQkJdGhpcy4kc3RvcmUuc3RhdGUudG9rZW4gPSByc3AuZGF0YS50b2tlbjsKCQkJCXJzcCA9IGF3YWl0IEdldFVzZXJJbmZvKHRoaXMsIHRoaXMuJHN0b3JlLnN0YXRlLnRva2VuKTsKCQkJCWlmKHJzcC5kYXRhLmNvZGUgPT0gMjAwKXsKCQkJCQl0aGlzLiRzdG9yZS5zdGF0ZS51c2VyID0gcnNwLmRhdGEudXNlcjsKCQkJCQl0aGlzLiRyb3V0ZXIucHVzaCh7cGF0aDonL2NoYWxsZW5nZXMnfSkKCQkJCX0KCQkJCQoJCQl9CgkJfSwKCQlSZWdpc3RlcjogYXN5bmMgZnVuY3Rpb24oKXsKCQkJbGV0IHJzcCA9IGF3YWl0IFJlZ2lzdGVyKHRoaXMsIHsKCQkJCSd1c2VybmFtZSc6IHRoaXMubmFtZSwKCQkJCSdlbWFpbCc6IHRoaXMuZW1haWwsCgkJCQkncGFzcyc6IHRoaXMucGFzczEKCQkJfSkKCQkJaWYocnNwLmRhdGEudG9rZW4pewoJCQkJdGhpcy4kc3RvcmUuc3RhdGUudG9rZW4gPSByc3AuZGF0YS50b2tlbjsKCQkJCXJzcCA9IGF3YWl0IEdldFVzZXJJbmZvKHRoaXMsIHRoaXMuJHN0b3JlLnN0YXRlLnRva2VuKTsKCQkJCWlmKHJzcC5kYXRhLmNvZGUgPT0gMjAwKXsKCQkJCQl0aGlzLiRzdG9yZS5zdGF0ZS51c2VyID0gcnNwLmRhdGEudXNlcjsKCQkJCQl0aGlzLiRyb3V0ZXIucHVzaCh7cGF0aDonL2NoYWxsZW5nZXMnfSkKCQkJCX0KCQkJfQoJCX0sCgkJU3VibWl0Rm9ybTogZnVuY3Rpb24oKSB7CgkJCWlmKHRoaXMudHlwZSl7CgkJCQl0aGlzLkxvZ2luKCk7CgkJCQlyZXR1cm4KCQkJfQoJCQl0aGlzLlJlZ2lzdGVyKCk7CgkJfQoJfQp9Cg=="},{"version":3,"sources":["FormCom.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"FormCom.vue","sourceRoot":"src/views/re-lo/components","sourcesContent":["<template>\r\n\t<div id=\"form-com\">\r\n\t\t<el-form status-icon>\r\n\t\t\t<el-form-item prop=\"email\" v-show=\"!type\">\r\n\t\t\t\t<el-input type=\"text\" placeholder=\"username\" v-model=\"name\">\r\n\t\t\t\t\t<i slot=\"prefix\" class=\"el-input__icon el-icon-user\"></i>\r\n\t\t\t\t</el-input>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item prop=\"email\">\r\n\t\t\t\t<el-input type=\"e-mail\" placeholder=\"E-mail\" v-model=\"email\">\r\n\t\t\t\t\t<i slot=\"prefix\" class=\"el-input__icon el-icon-message\"></i>\r\n\t\t\t\t</el-input>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item prop=\"pass\">\r\n\t\t\t\t<el-input type=\"password\" placeholder=\"Password\" v-model=\"pass1\" show-password>\r\n\t\t\t\t\t<i slot=\"prefix\" class=\"el-input__icon el-icon-lock\"></i>\r\n\t\t\t\t</el-input>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item prop=\"pass\" v-show=\"!type\">\r\n\t\t\t\t<el-input type=\"password\" placeholder=\"Repeat the Password\" v-model=\"pass2\" show-password>\r\n\t\t\t\t\t<i slot=\"prefix\" class=\"el-input__icon el-icon-lock\"></i>\r\n\t\t\t\t</el-input>\r\n\t\t\t</el-form-item>\r\n\r\n\t\t\t<!-- \t\t\t<el-form-item prop=\"code\" label-width=\"50\">\r\n\t\t\t\t<el-row :gutter=\"10\">\r\n\t\t\t\t\t<el-col :span=\"16\">\r\n\t\t\t\t\t\t<el-input type=\"text\" maxlength=\"4\" placeholder=\"验证码\" v-model=\"code\">\r\n\t\t\t\t\t\t\t<i slot=\"prefix\" class=\"el-input__icon el-icon-thumb\"></i>\r\n\t\t\t\t\t\t</el-input>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t\t<el-col :span=\"4\">\r\n\t\t\t\t\t\t<img class=\"code\" :src=\"url\" />\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t</el-row>\r\n\t\t\t</el-form-item> -->\r\n\r\n\t\t\t<el-form-item>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"SubmitForm\" class=\"button\">{{type?'登录':'注册'}}</el-button>\r\n\t\t\t</el-form-item>\r\n\t\t</el-form>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tLogin,\r\n\t\tRegister,\r\n\t\tGetUserInfo\r\n\t} from '@/api/api.js'\r\n\texport default {\r\n\t\tprops: ['type'],\r\n\t\tname: \"FormCom\",\r\n\t\tdata: function() {\r\n\t\t\treturn {\r\n\t\t\t\turl: \"https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg\",\r\n\t\t\t\tname: '',\r\n\t\t\t\temail: '',\r\n\t\t\t\tpass1: '',\r\n\t\t\t\tpass2: '',\r\n\t\t\t\tcode: ''\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tLogin: async function(){\r\n\t\t\t\tlet rsp = await Login(this, {\r\n\t\t\t\t\t'email': this.email,\r\n\t\t\t\t\t'pass': this.pass1\r\n\t\t\t\t})\r\n\t\t\t\tif(rsp.data.token){\r\n\t\t\t\t\tthis.$store.state.token = rsp.data.token;\r\n\t\t\t\t\trsp = await GetUserInfo(this, this.$store.state.token);\r\n\t\t\t\t\tif(rsp.data.code == 200){\r\n\t\t\t\t\t\tthis.$store.state.user = rsp.data.user;\r\n\t\t\t\t\t\tthis.$router.push({path:'/challenges'})\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tRegister: async function(){\r\n\t\t\t\tlet rsp = await Register(this, {\r\n\t\t\t\t\t'username': this.name,\r\n\t\t\t\t\t'email': this.email,\r\n\t\t\t\t\t'pass': this.pass1\r\n\t\t\t\t})\r\n\t\t\t\tif(rsp.data.token){\r\n\t\t\t\t\tthis.$store.state.token = rsp.data.token;\r\n\t\t\t\t\trsp = await GetUserInfo(this, this.$store.state.token);\r\n\t\t\t\t\tif(rsp.data.code == 200){\r\n\t\t\t\t\t\tthis.$store.state.user = rsp.data.user;\r\n\t\t\t\t\t\tthis.$router.push({path:'/challenges'})\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tSubmitForm: function() {\r\n\t\t\t\tif(this.type){\r\n\t\t\t\t\tthis.Login();\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tthis.Register();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.code {\r\n\t\tmin-width: 90px;\r\n\t\tmax-height: 40px;\r\n\t}\r\n\r\n\t.button {\r\n\t\tmin-width: 100%;\r\n\t}\r\n</style>\n"]}]}