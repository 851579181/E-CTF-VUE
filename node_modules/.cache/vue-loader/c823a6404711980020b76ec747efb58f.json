{"remainingRequest":"C:\\Users\\rgdzg\\Desktop\\E-CTF\\E-CTF-VUE\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\rgdzg\\Desktop\\E-CTF\\E-CTF-VUE\\src\\views\\re-lo\\components\\FormCom.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\rgdzg\\Desktop\\E-CTF\\E-CTF-VUE\\src\\views\\re-lo\\components\\FormCom.vue","mtime":1580222591725},{"path":"C:\\Users\\rgdzg\\Desktop\\E-CTF\\E-CTF-VUE\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\rgdzg\\Desktop\\E-CTF\\E-CTF-VUE\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\rgdzg\\Desktop\\E-CTF\\E-CTF-VUE\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\rgdzg\\Desktop\\E-CTF\\E-CTF-VUE\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CglMb2dpbiwKCVJlZ2lzdGVyLAoJSXNFeGlzdHMsCglHZXRVc2VySW5mbwp9IGZyb20gJ0AvYXBpL2FwaS5qcycKZXhwb3J0IGRlZmF1bHQgewoJcHJvcHM6IFsndHlwZSddLAoJbmFtZTogIkZvcm1Db20iLAoJZGF0YTogZnVuY3Rpb24oKSB7CgkJbGV0IGlzRXhpc3RzID0gYXN5bmMgKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgPT4gewoJCQlsZXQgY29kZSA9IGF3YWl0IHRoaXMuQ2hlY2tJc0V4aXN0cyh2YWx1ZSk7CgkJCWlmICghdGhpcy50eXBlKSB7CgkJCQlzd2l0Y2ggKGNvZGUpIHsKCQkJCQljYXNlIDEwMDE6CgkJCQkJCWNhbGxiYWNrKG5ldyBFcnJvcign5bey6KKr5rOo5YaMJykpOwoJCQkJCQlicmVhazsKCQkJCQljYXNlIDEwMDoKCQkJCQkJY2FsbGJhY2sobmV3IEVycm9yKCfnvZHnu5zmlYXpmpwnKSk7CgkJCQkJCWJyZWFrOwoJCQkJCWRlZmF1bHQ6CgkJCQkJCWNhbGxiYWNrKCk7CgkJCQkJCWJyZWFrOwoJCQkJfQoJCQl9IGVsc2UgewoJCQkJc3dpdGNoIChjb2RlKSB7CgkJCQkJY2FzZSAxMDAwOgoJCQkJCQljYWxsYmFjayhuZXcgRXJyb3IoJ+ivpeeUqOaIt+S4jeWtmOWcqCcpKTsKCQkJCQkJYnJlYWs7CgkJCQkJY2FzZSAxMDA6CgkJCQkJCWNhbGxiYWNrKG5ldyBFcnJvcign572R57uc5pWF6ZqcJykpCgkJCQkJCWJyZWFrOwoJCQkJCWRlZmF1bHQ6CgkJCQkJCWNhbGxiYWNrKCkKCQkJCQkJYnJlYWs7CgkJCQl9CgkJCX0KCQl9OwoKCQlsZXQgdmFsaWRhdGVQYXNzID0gKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgPT4gewoJCQlpZiAodmFsdWUgPT09ICcnKSB7CgkJCQljYWxsYmFjayhuZXcgRXJyb3IoJ+ivt+i+k+WFpeWvhueggScpKTsKCQkJfSBlbHNlIHsKCQkJCWlmICh0aGlzLmZvcm1EYXRhLnBhc3MgIT09ICcnICYmICF0aGlzLnR5cGUpIHsKCQkJCQl0aGlzLiRyZWZzLmZvcm1EYXRhLnZhbGlkYXRlRmllbGQoJ2NoZWNrUGFzcycpOwoJCQkJfQoJCQkJY2FsbGJhY2soKTsKCQkJfQoJCX07CgkJbGV0IHZhbGlkYXRlUGFzczIgPSAocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSA9PiB7CgkJCWlmICghdGhpcy50eXBlKSB7CgkJCQlpZiAodmFsdWUgPT09ICcnKSB7CgkJCQkJY2FsbGJhY2sobmV3IEVycm9yKCfor7flho3mrKHovpPlhaXlr4bnoIEnKSk7CgkJCQl9IGVsc2UgaWYgKHZhbHVlICE9PSB0aGlzLmZvcm1EYXRhLnBhc3MpIHsKCQkJCQljYWxsYmFjayhuZXcgRXJyb3IoJ+S4pOasoei+k+WFpeWvhueggeS4jeS4gOiHtCEnKSk7CgkJCQl9IGVsc2UgewoJCQkJCWNhbGxiYWNrKCk7CgkJCQl9CgkJCX0KCQl9OwoJCXJldHVybiB7CgkJCS8vIHVybDogImh0dHBzOi8vZnVzczEwLmVsZW1lY2RuLmNvbS9lLzVkLzRhNzMxYTkwNTk0YTRhZjU0NGMwYzI1OTQxMTcxanBlZy5qcGVnIiwKCQkJZm9ybURhdGE6IHsKCQkJCW5hbWU6ICcnLAoJCQkJZW1haWw6ICcnLAoJCQkJcGFzczogJycsCgkJCQljaGVja1Bhc3M6ICcnCgkJCX0sCgkJCS8vIGNvZGU6ICcnLAoJCQlydWxlczogewoJCQkJbmFtZTogW3sKCQkJCQkJcmVxdWlyZWQ6IHRydWUsCgkJCQkJCW1lc3NhZ2U6ICfor7fovpPlhaVJRCcsCgkJCQkJCXRyaWdnZXI6IFsnYmx1cicsICdjaGFuZ2UnXSwKCQkJCQl9LAoJCQkJCXsKCQkJCQkJbWluOiAzLAoJCQkJCQltYXg6IDEwLAoJCQkJCQltZXNzYWdlOiAn6ZW/5bqm5ZyoIDMg5YiwIDEwIOS4quWtl+espicsCgkJCQkJCXRyaWdnZXI6IFsnYmx1cicsICdjaGFuZ2UnXSwKCQkJCQl9LAoJCQkJCXsKCQkJCQkJdmFsaWRhdG9yOiBpc0V4aXN0cywKCQkJCQkJdGlyZ2dlcjogWydibHVyJ10KCQkJCQl9CgkJCQldLAoJCQkJZW1haWw6IFt7CgkJCQkJCXJlcXVpcmVkOiB0cnVlLAoJCQkJCQltZXNzYWdlOiAn6K+36L6T5YWl6YKu566x5Zyw5Z2AJywKCQkJCQkJdHJpZ2dlcjogJ2JsdXInCgkJCQkJfSwKCQkJCQl7CgkJCQkJCXR5cGU6ICdlbWFpbCcsCgkJCQkJCW1lc3NhZ2U6ICfor7fovpPlhaXmraPnoa7nmoTpgq7nrrHlnLDlnYAnLAoJCQkJCQl0cmlnZ2VyOiBbJ2JsdXInLCAnY2hhbmdlJ10sCgkJCQkJfSwKCQkJCQl7CgkJCQkJCXZhbGlkYXRvcjogaXNFeGlzdHMsCgkJCQkJCXRpcmdnZXI6IFsnYmx1ciddCgkJCQkJfQoJCQkJXSwKCQkJCXBhc3M6IFt7CgkJCQkJCW1pbjogNiwKCQkJCQkJbWVzc2FnZTogJ+WvhueggeiHs+WwkemcgOimgTbkvY3mlbAnLAoJCQkJCQl0cmlnZ2VyOiBbJ2JsdXInLCAnY2hhbmdlJ10sCgkJCQkJfSwKCQkJCQl7CgkJCQkJCXZhbGlkYXRvcjogdmFsaWRhdGVQYXNzLAoJCQkJCQl0cmlnZ2VyOiBbJ2JsdXInXSwKCQkJCQl9CgkJCQldLAoJCQkJY2hlY2tQYXNzOiBbewoJCQkJCXZhbGlkYXRvcjogdmFsaWRhdGVQYXNzMiwKCQkJCQl0cmlnZ2VyOiBbJ2JsdXInXSwKCQkJCX1dLAoJCQl9LAoJCX0KCX0sCgljb21wdXRlZDogewoKCX0sCgltZXRob2RzOiB7CgkJQ2hlY2tJc0V4aXN0czogYXN5bmMgZnVuY3Rpb24odmFsdWUpIHsKCQkJdHJ5IHsKCQkJCWxldCByc3AgPSBhd2FpdCBJc0V4aXN0cyh0aGlzLCB2YWx1ZSk7CgkJCQlsZXQgY29kZSA9IHJzcC5kYXRhLmNvZGU7CgkJCQlyZXR1cm4gY29kZQoJCQl9IGNhdGNoIChlKSB7CgkJCQkvL1RPRE8gaGFuZGxlIHRoZSBleGNlcHRpb24KCQkJCXRoaXMuJG1lc3NhZ2UoewoJCQkJCXR5cGU6ICdlcnJvcicsCgkJCQkJbWVzc2FnZTogJ+iOt+WPluaVsOaNruWksei0pSzor7fmo4Dmn6XnvZHnu5whJwoJCQkJfSk7CgkJCQlyZXR1cm4gMTAwOwoJCQl9CgkJfSwKCQlMb2dpbjogYXN5bmMgZnVuY3Rpb24oKSB7CgkJCWxldCByc3AgPSBhd2FpdCBMb2dpbih0aGlzLCB7CgkJCQknZW1haWwnOiB0aGlzLmZvcm1EYXRhLmVtYWlsLAoJCQkJJ3Bhc3MnOiB0aGlzLmZvcm1EYXRhLnBhc3MKCQkJfSkKCQkJaWYgKHJzcC5kYXRhLnRva2VuKSB7CgkJCQl0aGlzLiRzdG9yZS5zdGF0ZS50b2tlbiA9IHJzcC5kYXRhLnRva2VuOwoJCQkJcnNwID0gYXdhaXQgR2V0VXNlckluZm8odGhpcywgdGhpcy4kc3RvcmUuc3RhdGUudG9rZW4pOwoJCQkJaWYgKHJzcC5kYXRhLmNvZGUgPT0gMjAwKSB7CgkJCQkJdGhpcy4kc3RvcmUuc3RhdGUudXNlciA9IHJzcC5kYXRhLnVzZXI7CgkJCQkJdGhpcy4kcm91dGVyLnB1c2goewoJCQkJCQlwYXRoOiAnL2NoYWxsZW5nZXMnCgkJCQkJfSkKCQkJCQl0aGlzLiRyZWZzLmZvcm1EYXRhLnJlc2V0RmllbGRzKCk7CgkJCQl9CgoJCQl9CgkJfSwKCQlSZWdpc3RlcjogYXN5bmMgZnVuY3Rpb24oKSB7CgkJCWxldCByc3AgPSBhd2FpdCBSZWdpc3Rlcih0aGlzLCB7CgkJCQkndXNlcm5hbWUnOiB0aGlzLmZvcm1EYXRhLm5hbWUsCgkJCQknZW1haWwnOiB0aGlzLmZvcm1EYXRhLmVtYWlsLAoJCQkJJ3Bhc3MnOiB0aGlzLmZvcm1EYXRhLnBhc3MKCQkJfSkKCQkJaWYgKHJzcC5kYXRhLnRva2VuKSB7CgkJCQl0aGlzLiRzdG9yZS5zdGF0ZS50b2tlbiA9IHJzcC5kYXRhLnRva2VuOwoJCQkJcnNwID0gYXdhaXQgR2V0VXNlckluZm8odGhpcywgdGhpcy4kc3RvcmUuc3RhdGUudG9rZW4pOwoJCQkJaWYgKHJzcC5kYXRhLmNvZGUgPT0gMjAwKSB7CgkJCQkJdGhpcy4kc3RvcmUuc3RhdGUudXNlciA9IHJzcC5kYXRhLnVzZXI7CgkJCQkJCgkJCQkJdGhpcy4kcm91dGVyLnB1c2goewoJCQkJCQlwYXRoOiAnL2NoYWxsZW5nZXMnCgkJCQkJfSkKCQkJCQl0aGlzLiRyZWZzLmZvcm1EYXRhLnJlc2V0RmllbGRzKCk7CgkJCQl9CgkJCX0KCQl9LAoJCVN1Ym1pdEZvcm06IGZ1bmN0aW9uKCkgewoJCQlpZiAodGhpcy50eXBlKSB7CgkJCQl0aGlzLkxvZ2luKCk7CgkJCQlyZXR1cm4KCQkJfQoJCQl0aGlzLlJlZ2lzdGVyKCk7CgkJfQoJfQp9Cg=="},{"version":3,"sources":["FormCom.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"FormCom.vue","sourceRoot":"src/views/re-lo/components","sourcesContent":["<template>\r\n\t<div id=\"form-com\">\r\n\t\t<el-form status-icon :rules=\"rules\" :model=\"formData\" ref=\"formData\">\r\n\t\t\t<el-form-item prop=\"name\" v-show=\"!type\">\r\n\t\t\t\t<el-input type=\"text\" placeholder=\"username\" v-model=\"formData.name\">\r\n\t\t\t\t\t<i slot=\"prefix\" class=\"el-input__icon el-icon-user\"></i>\r\n\t\t\t\t</el-input>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item prop=\"email\">\r\n\t\t\t\t<el-input type=\"e-mail\" placeholder=\"E-mail\" v-model=\"formData.email\">\r\n\t\t\t\t\t<i slot=\"prefix\" class=\"el-input__icon el-icon-message\"></i>\r\n\t\t\t\t</el-input>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item prop=\"pass\">\r\n\t\t\t\t<el-input type=\"password\" placeholder=\"Password\" v-model=\"formData.pass\" show-password>\r\n\t\t\t\t\t<i slot=\"prefix\" class=\"el-input__icon el-icon-lock\"></i>\r\n\t\t\t\t</el-input>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item prop=\"checkPass\" v-show=\"!type\">\r\n\t\t\t\t<el-input type=\"password\" placeholder=\"Repeat the Password\" v-model=\"formData.checkPass\" show-password>\r\n\t\t\t\t\t<i slot=\"prefix\" class=\"el-input__icon el-icon-lock\"></i>\r\n\t\t\t\t</el-input>\r\n\t\t\t</el-form-item>\r\n\r\n\t\t\t<!-- \t\t\t<el-form-item prop=\"code\" label-width=\"50\">\r\n\t\t\t\t<el-row :gutter=\"10\">\r\n\t\t\t\t\t<el-col :span=\"16\">\r\n\t\t\t\t\t\t<el-input type=\"text\" maxlength=\"4\" placeholder=\"验证码\" v-model=\"code\">\r\n\t\t\t\t\t\t\t<i slot=\"prefix\" class=\"el-input__icon el-icon-thumb\"></i>\r\n\t\t\t\t\t\t</el-input>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t\t<el-col :span=\"4\">\r\n\t\t\t\t\t\t<img class=\"code\" :src=\"url\" />\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t</el-row>\r\n\t\t\t</el-form-item> -->\r\n\r\n\t\t\t<el-form-item>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"SubmitForm\" class=\"button\">{{type?'登录':'注册'}}</el-button>\r\n\t\t\t</el-form-item>\r\n\t\t</el-form>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tLogin,\r\n\t\tRegister,\r\n\t\tIsExists,\r\n\t\tGetUserInfo\r\n\t} from '@/api/api.js'\r\n\texport default {\r\n\t\tprops: ['type'],\r\n\t\tname: \"FormCom\",\r\n\t\tdata: function() {\r\n\t\t\tlet isExists = async (rule, value, callback) => {\r\n\t\t\t\tlet code = await this.CheckIsExists(value);\r\n\t\t\t\tif (!this.type) {\r\n\t\t\t\t\tswitch (code) {\r\n\t\t\t\t\t\tcase 1001:\r\n\t\t\t\t\t\t\tcallback(new Error('已被注册'));\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 100:\r\n\t\t\t\t\t\t\tcallback(new Error('网络故障'));\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\tcallback();\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tswitch (code) {\r\n\t\t\t\t\t\tcase 1000:\r\n\t\t\t\t\t\t\tcallback(new Error('该用户不存在'));\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 100:\r\n\t\t\t\t\t\t\tcallback(new Error('网络故障'))\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\tcallback()\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tlet validatePass = (rule, value, callback) => {\r\n\t\t\t\tif (value === '') {\r\n\t\t\t\t\tcallback(new Error('请输入密码'));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (this.formData.pass !== '' && !this.type) {\r\n\t\t\t\t\t\tthis.$refs.formData.validateField('checkPass');\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcallback();\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tlet validatePass2 = (rule, value, callback) => {\r\n\t\t\t\tif (!this.type) {\r\n\t\t\t\t\tif (value === '') {\r\n\t\t\t\t\t\tcallback(new Error('请再次输入密码'));\r\n\t\t\t\t\t} else if (value !== this.formData.pass) {\r\n\t\t\t\t\t\tcallback(new Error('两次输入密码不一致!'));\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tcallback();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\treturn {\r\n\t\t\t\t// url: \"https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg\",\r\n\t\t\t\tformData: {\r\n\t\t\t\t\tname: '',\r\n\t\t\t\t\temail: '',\r\n\t\t\t\t\tpass: '',\r\n\t\t\t\t\tcheckPass: ''\r\n\t\t\t\t},\r\n\t\t\t\t// code: '',\r\n\t\t\t\trules: {\r\n\t\t\t\t\tname: [{\r\n\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\tmessage: '请输入ID',\r\n\t\t\t\t\t\t\ttrigger: ['blur', 'change'],\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tmin: 3,\r\n\t\t\t\t\t\t\tmax: 10,\r\n\t\t\t\t\t\t\tmessage: '长度在 3 到 10 个字符',\r\n\t\t\t\t\t\t\ttrigger: ['blur', 'change'],\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tvalidator: isExists,\r\n\t\t\t\t\t\t\ttirgger: ['blur']\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t],\r\n\t\t\t\t\temail: [{\r\n\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\tmessage: '请输入邮箱地址',\r\n\t\t\t\t\t\t\ttrigger: 'blur'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttype: 'email',\r\n\t\t\t\t\t\t\tmessage: '请输入正确的邮箱地址',\r\n\t\t\t\t\t\t\ttrigger: ['blur', 'change'],\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tvalidator: isExists,\r\n\t\t\t\t\t\t\ttirgger: ['blur']\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t],\r\n\t\t\t\t\tpass: [{\r\n\t\t\t\t\t\t\tmin: 6,\r\n\t\t\t\t\t\t\tmessage: '密码至少需要6位数',\r\n\t\t\t\t\t\t\ttrigger: ['blur', 'change'],\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tvalidator: validatePass,\r\n\t\t\t\t\t\t\ttrigger: ['blur'],\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t],\r\n\t\t\t\t\tcheckPass: [{\r\n\t\t\t\t\t\tvalidator: validatePass2,\r\n\t\t\t\t\t\ttrigger: ['blur'],\r\n\t\t\t\t\t}],\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tCheckIsExists: async function(value) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tlet rsp = await IsExists(this, value);\r\n\t\t\t\t\tlet code = rsp.data.code;\r\n\t\t\t\t\treturn code\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\t//TODO handle the exception\r\n\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\ttype: 'error',\r\n\t\t\t\t\t\tmessage: '获取数据失败,请检查网络!'\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn 100;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tLogin: async function() {\r\n\t\t\t\tlet rsp = await Login(this, {\r\n\t\t\t\t\t'email': this.formData.email,\r\n\t\t\t\t\t'pass': this.formData.pass\r\n\t\t\t\t})\r\n\t\t\t\tif (rsp.data.token) {\r\n\t\t\t\t\tthis.$store.state.token = rsp.data.token;\r\n\t\t\t\t\trsp = await GetUserInfo(this, this.$store.state.token);\r\n\t\t\t\t\tif (rsp.data.code == 200) {\r\n\t\t\t\t\t\tthis.$store.state.user = rsp.data.user;\r\n\t\t\t\t\t\tthis.$router.push({\r\n\t\t\t\t\t\t\tpath: '/challenges'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tthis.$refs.formData.resetFields();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tRegister: async function() {\r\n\t\t\t\tlet rsp = await Register(this, {\r\n\t\t\t\t\t'username': this.formData.name,\r\n\t\t\t\t\t'email': this.formData.email,\r\n\t\t\t\t\t'pass': this.formData.pass\r\n\t\t\t\t})\r\n\t\t\t\tif (rsp.data.token) {\r\n\t\t\t\t\tthis.$store.state.token = rsp.data.token;\r\n\t\t\t\t\trsp = await GetUserInfo(this, this.$store.state.token);\r\n\t\t\t\t\tif (rsp.data.code == 200) {\r\n\t\t\t\t\t\tthis.$store.state.user = rsp.data.user;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.$router.push({\r\n\t\t\t\t\t\t\tpath: '/challenges'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tthis.$refs.formData.resetFields();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tSubmitForm: function() {\r\n\t\t\t\tif (this.type) {\r\n\t\t\t\t\tthis.Login();\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tthis.Register();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.code {\r\n\t\tmin-width: 90px;\r\n\t\tmax-height: 40px;\r\n\t}\r\n\r\n\t.button {\r\n\t\tmin-width: 100%;\r\n\t}\r\n</style>\n"]}]}