{"remainingRequest":"C:\\Users\\rgdzg\\Desktop\\E-CTF\\E-CTF-VUE\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\rgdzg\\Desktop\\E-CTF\\E-CTF-VUE\\src\\views\\challenges\\components\\challenge.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\rgdzg\\Desktop\\E-CTF\\E-CTF-VUE\\src\\views\\challenges\\components\\challenge.vue","mtime":1580197367721},{"path":"C:\\Users\\rgdzg\\Desktop\\E-CTF\\E-CTF-VUE\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\rgdzg\\Desktop\\E-CTF\\E-CTF-VUE\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\rgdzg\\Desktop\\E-CTF\\E-CTF-VUE\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\rgdzg\\Desktop\\E-CTF\\E-CTF-VUE\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CglHZXRDaGFsbGVuZ2VzLAoJRGVsQ2hhbGxlbmdlCn0gZnJvbSAnQC9hcGkvYXBpLmpzJwoKaW1wb3J0IENoYWxsZW5nZUNhcmQgZnJvbSAnLi9DaGFsbGVuZ2VDYXJkJwoKZXhwb3J0IGRlZmF1bHQgewoJY29tcG9uZW50czogewoJCUNoYWxsZW5nZUNhcmQ6IENoYWxsZW5nZUNhcmQKCX0sCgoJbmFtZTogJ2NoYWxsZW5nZScsCglwcm9wczogWwoJCSd0eXBlJwoJXSwKCW1ldGhvZHM6IHsKCQlJbml0RGF0YTogYXN5bmMgZnVuY3Rpb24oKSB7CgkJCS8vIEluaXQgY2hhbGxlbmdlCgkJCXRyeSB7CgkJCQl0aGlzLmxvYWRpbmcgPSB0cnVlOwoJCQkJdGhpcy5jaGFsbGVuZ2VEYXRhID0gW107CgkJCQlsZXQgcnNwID0gYXdhaXQgR2V0Q2hhbGxlbmdlcyh0aGlzLCB0aGlzLnR5cGUsIHRoaXMuJHN0b3JlLnN0YXRlLnRva2VuKTsKCQkJCWxldCBkYXRhID0gcnNwLmRhdGEuY2hhbGxlbmdlczsKCQkJCWxldCBpZHggPSAwOwoJCQkJd2hpbGUgKGlkeCA8IGRhdGEubGVuZ3RoKSB7CgkJCQkJdGhpcy5jaGFsbGVuZ2VEYXRhLnB1c2goZGF0YS5zbGljZShpZHgsIGlkeCArPSA0KSk7CgkJCQl9CgkJCX0gY2F0Y2ggKGUpIHsKCQkJCS8vVE9ETyBoYW5kbGUgdGhlIGV4Y2VwdGlvbgoJCQkJdGhpcy4kbWVzc2FnZSh7CgkJCQkJdHlwZTogJ2Vycm9yJywKCQkJCQltZXNzYWdlOiAn6I635Y+W5pWw5o2u5aSx6LSlLOivt+ajgOafpee9kee7nCEnCgkJCQl9KTsKCQkJfSBmaW5hbGx5IHsKCQkJCXNldFRpbWVvdXQoKCkgPT4gewoJCQkJCXRoaXMubG9hZGluZyA9IGZhbHNlOwoJCQkJfSwgNTAwKQoJCQl9CgkJfSwKCQlEZWxDYXJkOiBmdW5jdGlvbihjaGFsbGVuZ2UpIHsKCQkJLy8gRGVsIGNoYWxsZW5nZQoJCQl0aGlzLiRjb25maXJtKCfmraTmk43kvZzkuI3lj6/pgIbvvIznoa7lrpropoHliKDpmaQ6JyArIGNoYWxsZW5nZS50aXRsZSwgJ+aPkOekuicsIHsKCQkJCWNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKCQkJCWNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAoJCQkJdHlwZTogJ3dhcm5pbmcnCgkJCX0pLnRoZW4oYXN5bmMgKCkgPT4gewoJCQkJbGV0IHJzcCA9IGF3YWl0IERlbENoYWxsZW5nZSh0aGlzLCBjaGFsbGVuZ2UuY2lkLCB0aGlzLiRzdG9yZS5zdGF0ZS50b2tlbik7CgkJCQlpZiAocnNwLmRhdGEuY29kZSA9PSAyMDApIHsKCQkJCQl0aGlzLiRtZXNzYWdlKHsKCQkJCQkJdHlwZTogJ3dhcm5pbmcnLAoJCQkJCQltZXNzYWdlOiAn5bey5Yig6ZmkOicgKyBjaGFsbGVuZ2UudGl0bGUKCQkJCQl9KTsKCQkJCQl0aGlzLkluaXREYXRhKHRoaXMuY2hhbGxlbmdlRGF0YSk7CgkJCQl9IGVsc2UgewoJCQkJCXRoaXMuJG1lc3NhZ2UoewoJCQkJCQl0eXBlOiAnZXJyb3InLAoJCQkJCQltZXNzYWdlOiAn5Yig6Zmk5aSx6LSlJwoJCQkJCX0pOwoJCQkJfQoJCQl9KQoJCX0KCX0sCgljcmVhdGVkOiBmdW5jdGlvbigpIHsKCQl0aGlzLkluaXREYXRhKCk7Cgl9LAoJY29tcHV0ZWQ6IHsKCQl0b2tlbjogZnVuY3Rpb24oKSB7CgkJCXJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS50b2tlbjsKCQl9Cgl9LAoJd2F0Y2g6IHsKCQl0eXBlOiBmdW5jdGlvbih2YWwpIHsKCQkJLy8g5a6e5pe25YiH5o2id2ViCgkJCXRoaXMuSW5pdERhdGEoKQoJCX0sCgkJdG9rZW46IGZ1bmN0aW9uKCkgewoJCQl0aGlzLkluaXREYXRhKCk7CgkJfQoJfSwKCWRhdGE6ICgpID0+IHsKCQlyZXR1cm4gewoJCQlsb2FkaW5nOiB0cnVlLAoJCQlhY3RpdmVJbmRleDogJzEnLAoJCQljaGFsbGVuZ2VEYXRhOiBbXQoJCX0KCX0KfQo="},{"version":3,"sources":["challenge.vue"],"names":[],"mappings":";;;;;;;;;;;AAWA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"challenge.vue","sourceRoot":"src/views/challenges/components","sourcesContent":["<template>\r\n\t<div id=\"challenge\" v-loading=\"loading\">\r\n\t\t<el-row :gutter=\"20\" class=\"challenge-row\" justify=\"space-around\" v-for=\"(challenges, _) in challengeData\" :key=\"_\">\r\n\t\t\t<el-col :span=\"6\" v-for=\"(challenge, i) in challenges\" :key=\"i\" class=\"challenge-col\">\r\n\t\t\t\t<challenge-card :data=\"challenge\" :key=\"i\" v-on:delete=\"DelCard\"></challenge-card>\r\n\t\t\t</el-col>\r\n\t\t</el-row>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tGetChallenges,\r\n\t\tDelChallenge\r\n\t} from '@/api/api.js'\r\n\r\n\timport ChallengeCard from './ChallengeCard'\r\n\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tChallengeCard: ChallengeCard\r\n\t\t},\r\n\r\n\t\tname: 'challenge',\r\n\t\tprops: [\r\n\t\t\t'type'\r\n\t\t],\r\n\t\tmethods: {\r\n\t\t\tInitData: async function() {\r\n\t\t\t\t// Init challenge\r\n\t\t\t\ttry {\r\n\t\t\t\t\tthis.loading = true;\r\n\t\t\t\t\tthis.challengeData = [];\r\n\t\t\t\t\tlet rsp = await GetChallenges(this, this.type, this.$store.state.token);\r\n\t\t\t\t\tlet data = rsp.data.challenges;\r\n\t\t\t\t\tlet idx = 0;\r\n\t\t\t\t\twhile (idx < data.length) {\r\n\t\t\t\t\t\tthis.challengeData.push(data.slice(idx, idx += 4));\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\t//TODO handle the exception\r\n\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\ttype: 'error',\r\n\t\t\t\t\t\tmessage: '获取数据失败,请检查网络!'\r\n\t\t\t\t\t});\r\n\t\t\t\t} finally {\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t\t}, 500)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tDelCard: function(challenge) {\r\n\t\t\t\t// Del challenge\r\n\t\t\t\tthis.$confirm('此操作不可逆，确定要删除:' + challenge.title, '提示', {\r\n\t\t\t\t\tconfirmButtonText: '确定',\r\n\t\t\t\t\tcancelButtonText: '取消',\r\n\t\t\t\t\ttype: 'warning'\r\n\t\t\t\t}).then(async () => {\r\n\t\t\t\t\tlet rsp = await DelChallenge(this, challenge.cid, this.$store.state.token);\r\n\t\t\t\t\tif (rsp.data.code == 200) {\r\n\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\ttype: 'warning',\r\n\t\t\t\t\t\t\tmessage: '已删除:' + challenge.title\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.InitData(this.challengeData);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\ttype: 'error',\r\n\t\t\t\t\t\t\tmessage: '删除失败'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated: function() {\r\n\t\t\tthis.InitData();\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\ttoken: function() {\r\n\t\t\t\treturn this.$store.state.token;\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\ttype: function(val) {\r\n\t\t\t\t// 实时切换web\r\n\t\t\t\tthis.InitData()\r\n\t\t\t},\r\n\t\t\ttoken: function() {\r\n\t\t\t\tthis.InitData();\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata: () => {\r\n\t\t\treturn {\r\n\t\t\t\tloading: true,\r\n\t\t\t\tactiveIndex: '1',\r\n\t\t\t\tchallengeData: []\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n</style>\n"]}]}