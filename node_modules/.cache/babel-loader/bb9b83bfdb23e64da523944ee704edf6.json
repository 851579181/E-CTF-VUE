{"remainingRequest":"C:\\Users\\rgdzg\\Desktop\\E-CTF\\E-CTF-VUE\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\rgdzg\\Desktop\\E-CTF\\E-CTF-VUE\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\rgdzg\\Desktop\\E-CTF\\E-CTF-VUE\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\rgdzg\\Desktop\\E-CTF\\E-CTF-VUE\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\rgdzg\\Desktop\\E-CTF\\E-CTF-VUE\\src\\views\\index\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\rgdzg\\Desktop\\E-CTF\\E-CTF-VUE\\src\\views\\index\\index.vue","mtime":1580120919320},{"path":"C:\\Users\\rgdzg\\Desktop\\E-CTF\\E-CTF-VUE\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\rgdzg\\Desktop\\E-CTF\\E-CTF-VUE\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\rgdzg\\Desktop\\E-CTF\\E-CTF-VUE\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\rgdzg\\Desktop\\E-CTF\\E-CTF-VUE\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\rgdzg\\Desktop\\E-CTF\\E-CTF-VUE\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzpcXFVzZXJzXFxyZ2R6Z1xcRGVza3RvcFxcRS1DVEZcXEUtQ1RGLVZVRVxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IEdldEFubm91bmNlbWVudHMsIEFkZEFubm91bmNlbWVudCwgRGVsQW5ub3VuY2VtZW50IH0gZnJvbSAnQC9hcGkvYXBpLmpzJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdpbmRleCcsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNob3dEaWFsb2c6IGZhbHNlLAogICAgICBub2RlQ29sb3I6ICIjNDA5RUZGIiwKICAgICAgYW5uY3M6IFtdLAogICAgICByZWxvYWQ6IHRydWUsCiAgICAgIC8vIOWFrOWRiuaVsOaNrgogICAgICB0aXRsZTogJycsCiAgICAgIGJvZHk6ICcnCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgSW5pdEFubmM6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9Jbml0QW5uYyA9IF9hc3luY1RvR2VuZXJhdG9yKAogICAgICAvKiNfX1BVUkVfXyovCiAgICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgICAgdmFyIHJzcDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIEdldEFubm91bmNlbWVudHModGhpcyk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJzcCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICB0aGlzLmFubmNzID0gcnNwLmRhdGEuYW5uY3M7CiAgICAgICAgICAgICAgICB0aGlzLnJlbG9hZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICBfdGhpcy5yZWxvYWQgPSB0cnVlOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDk7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDApOwogICAgICAgICAgICAgICAgLy9UT0RPIGhhbmRsZSB0aGUgZXhjZXB0aW9uCiAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJywKICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ+iOt+WPluaVsOaNruWksei0pSzor7fmo4Dmn6XnvZHnu5whJwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCB0aGlzLCBbWzAsIDldXSk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIEluaXRBbm5jKCkgewogICAgICAgIHJldHVybiBfSW5pdEFubmMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIEluaXRBbm5jOwogICAgfSgpLAogICAgRGVsQW5uYzogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX0RlbEFubmMgPSBfYXN5bmNUb0dlbmVyYXRvcigKICAgICAgLyojX19QVVJFX18qLwogICAgICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMihhaWQpIHsKICAgICAgICB2YXIgcnNwOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gRGVsQW5ub3VuY2VtZW50KHRoaXMsIGFpZCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJzcCA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ+WIoOmZpOaIkOWKnycKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgdGhpcy5Jbml0QW5uYygpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBEZWxBbm5jKF94KSB7CiAgICAgICAgcmV0dXJuIF9EZWxBbm5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBEZWxBbm5jOwogICAgfSgpLAogICAgaGFuZGxlQ2xvc2U6IGZ1bmN0aW9uIGhhbmRsZUNsb3NlKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuJGNvbmZpcm0oJ+atpOaTjeS9nOWwhuS4jeS8muaUvuW8g+W9k+WJjeW3sue8lui+keWGheWuuSEhIScsICfmj5DnpLonLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczIuc2hvd0RpYWxvZyA9IGZhbHNlOwoKICAgICAgICBfdGhpczIuJG1lc3NhZ2UoewogICAgICAgICAgdHlwZTogJ2luZm8nLAogICAgICAgICAgbWVzc2FnZTogJ+aUvuW8g+e8lui+keWFrOWRiiEnCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIFN1Ym1pdDogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX1N1Ym1pdCA9IF9hc3luY1RvR2VuZXJhdG9yKAogICAgICAvKiNfX1BVUkVfXyovCiAgICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHZhciByc3A7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBBZGRBbm5vdW5jZW1lbnQodGhpcywgewogICAgICAgICAgICAgICAgICAndGl0bGUnOiB0aGlzLnRpdGxlLAogICAgICAgICAgICAgICAgICAnYm9keSc6IHRoaXMuYm9keQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJzcCA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgICAgY29uc29sZS5sb2cocnNwKTsKCiAgICAgICAgICAgICAgICBpZiAocnNwLmRhdGEuY29kZSA9PSAyMDApIHsKICAgICAgICAgICAgICAgICAgdGhpcy5zaG93RGlhbG9nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAn5pu05paw5YWs5ZGK5oiQ5YqfIScKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIHRoaXMuSW5pdEFubmMoKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0RpYWxvZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InLAogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfmm7TmlrDlhazlkYrlpLHotKUhJwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzLCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gU3VibWl0KCkgewogICAgICAgIHJldHVybiBfU3VibWl0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBTdWJtaXQ7CiAgICB9KCkKICB9LAogIGNvbXB1dGVkOiB7CiAgICByb2xlOiBmdW5jdGlvbiByb2xlKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUudXNlci5yb2xlOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuSW5pdEFubmMoKTsKICB9Cn07"},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<div id=\"index\">\r\n\t\t<!-- <el-button v-on:click=\"Strore\">Store</el-button> -->\r\n\t\t<div class=\"block\">\r\n\t\t\t<div class=\"container\">\r\n\t\t\t\t<h1 style=\"text-align: center; color: #409EFF;\">公告板</h1>\r\n\t\t\t\t<el-divider content-position=\"right\">\r\n\t\t\t\t\t<el-popover v-if=\"role\" placement=\"top-start\" width=\"150\" trigger=\"hover\">\r\n\t\t\t\t\t\t<div><i class=\"el-icon-circle-plus\" style=\"color: #67C23A;\"></i><span style=\"margin-left: 5px;\">可更新公告。</span></div>\r\n\t\t\t\t\t\t<el-button slot=\"reference\" type=\"primary\" size=\"mini\" icon=\"el-icon-plus\" circle autofocus @click=\"showDialog=true\"></el-button>\r\n\t\t\t\t\t</el-popover>\r\n\t\t\t\t</el-divider>\r\n\t\t\t\t<el-timeline v-if=\"reload\">\r\n\t\t\t\t\t<el-timeline-item v-for=\"(ann, idx) in anncs\" :key=\"idx\" :timestamp=\"ann.createTime.trim().split(/\\s+/)[0]\"\r\n\t\t\t\t\t\tplacement=\"top\" :color=\"nodeColor\">\r\n\t\t\t\t\t\t<el-card>\r\n\t\t\t\t\t\t\t<div slot=\"header\" class=\"clearfix\">\r\n\t\t\t\t\t\t\t\t<span>{{ann.title}}</span>\r\n\t\t\t\t\t\t\t\t<el-popconfirm v-if=\"role\" @onConfirm=\"DelAnnc(ann.aid)\" confirmButtonText='确定' cancelButtonText='取消' icon=\"el-icon-info\"\r\n\t\t\t\t\t\t\t\t\ticonColor=\"red\" title=\"确定删除该公告吗？\" confirmButtonType=\"danger\">\r\n\t\t\t\t\t\t\t\t\t<el-button slot=\"reference\" style=\"float: right; padding: 3px 0\" type=\"text\"><i class=\"el-icon-close\" style=\"color: #F56C6C;\"></i></el-button>\r\n\t\t\t\t\t\t\t\t</el-popconfirm>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<h4>{{ann.body}}</h4>\r\n\t\t\t\t\t\t\t<p style=\"float: right; font-size: 12px; color: #8F8F8F;\">管理员 发布于: {{ann.createTime}}</p>\r\n\t\t\t\t\t\t</el-card>\r\n\t\t\t\t\t</el-timeline-item>\r\n\t\t\t\t</el-timeline>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<!-- Add annc Dialog -->\r\n\t\t<el-dialog center title=\"更新公告\" :visible.sync=\"showDialog\" width=\"30%\" :before-close=\"handleClose\">\r\n\t\t\t<el-form label-position='left' label-width=\"120px\">\r\n\r\n\t\t\t\t<el-form-item label=\"题目\">\r\n\t\t\t\t\t<el-input v-model=\"title\" placeholder=\"请输入标题\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\r\n\t\t\t\t<el-form-item label=\"描述\" placeholder=\"请编辑公告内容\">\r\n\t\t\t\t\t<el-input type=\"textarea\" v-model=\"body\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t</el-form>\r\n\t\t\t<div slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t\t<el-button @click=\"handleClose\">取 消</el-button>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"Submit\">确 定</el-button>\r\n\t\t\t</div>\r\n\t\t</el-dialog>\r\n\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tGetAnnouncements,\r\n\t\tAddAnnouncement,\r\n\t\tDelAnnouncement\r\n\t} from '@/api/api.js'\r\n\texport default {\r\n\t\tname: 'index',\r\n\t\tdata: () => {\r\n\t\t\treturn {\r\n\t\t\t\tshowDialog: false,\r\n\t\t\t\tnodeColor: \"#409EFF\",\r\n\t\t\t\tanncs: [],\r\n\t\t\t\treload: true,\r\n\t\t\t\t// 公告数据\r\n\t\t\t\ttitle: '',\r\n\t\t\t\tbody: ''\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tInitAnnc: async function() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tlet rsp = await GetAnnouncements(this);\r\n\t\t\t\t\tthis.anncs = rsp.data.anncs;\r\n\t\t\t\t\tthis.reload = false;\r\n\t\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\t\tthis.reload = true\r\n\t\t\t\t\t})\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\t//TODO handle the exception\r\n\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\ttype: 'error',\r\n\t\t\t\t\t\tmessage: '获取数据失败,请检查网络!'\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tDelAnnc: async function(aid) {\r\n\t\t\t\tlet rsp = await DelAnnouncement(this, aid);\r\n\t\t\t\tthis.$message({\r\n\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\tmessage: '删除成功'\r\n\t\t\t\t});\r\n\t\t\t\tthis.InitAnnc();\r\n\t\t\t},\r\n\t\t\thandleClose: function() {\r\n\t\t\t\tthis.$confirm('此操作将不会放弃当前已编辑内容!!!', '提示', {\r\n\t\t\t\t\tconfirmButtonText: '确定',\r\n\t\t\t\t\tcancelButtonText: '取消',\r\n\t\t\t\t\ttype: 'warning'\r\n\t\t\t\t}).then(() => {\r\n\t\t\t\t\tthis.showDialog = false;\r\n\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\ttype: 'info',\r\n\t\t\t\t\t\tmessage: '放弃编辑公告!'\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tSubmit: async function() {\r\n\t\t\t\tlet rsp = await AddAnnouncement(this, {\r\n\t\t\t\t\t'title': this.title,\r\n\t\t\t\t\t'body': this.body\r\n\t\t\t\t})\r\n\t\t\t\tconsole.log(rsp);\r\n\t\t\t\tif (rsp.data.code == 200) {\r\n\t\t\t\t\tthis.showDialog = false;\r\n\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\tmessage: '更新公告成功!'\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.InitAnnc()\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.showDialog = false;\r\n\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\ttype: 'error',\r\n\t\t\t\t\t\tmessage: '更新公告失败!'\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\trole: function() {\r\n\t\t\t\treturn this.$store.state.user.role\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated: function() {\r\n\t\t\tthis.InitAnnc();\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.container {\r\n\t\tmargin: 0 auto;\r\n\t\tmax-width: 45%;\r\n\t}\r\n</style>\n"],"sourceRoot":"src/views/index"}]}